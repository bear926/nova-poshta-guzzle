{
  "name": "Nova Poshta",
  "description": "Nova Poshta API",
  "baseUrl": "https://api.novaposhta.ua/v2.0/json/",
  "operations": {
    "AbstractOperation": {
      "uri": "",
      "parameters": {
        "api_key" : {
          "location": "json",
          "sentAs": "apiKey",
          "required": true
        }
      }
    },
    "AddressOperation": {
      "extends": "AbstractOperation",
      "parameters": {
        "modelName": {
          "type": "string",
          "location": "json",
          "static": true,
          "default": "Address"
        }
      }
    },
    "getCities": {
      "extends": "AddressOperation",
      "httpMethod": "POST",
      "parameters": {
        "methodProperties": {
          "location": "json",
          "type": "object",
          "properties": {
            "search_text": {
              "type": "string",
              "sentAs": "FindByString"
            },
            "city_id": {
              "type": "string",
              "sentAs": "Ref"
            },
            "page": {
              "type": "string",
              "sentAs": "Page"
            }
          }
        },
        "calledMethod": {
          "location": "json",
          "default": "getCities",
          "static": true
        }

      },
      "responseModel": "CityListResponse",
      "summary": "Returns list of cities there are warehouses of the Nova Poshta."
    },
    "getWarehouses": {
      "extends": "AddressOperation",
      "httpMethod": "POST",
      "parameters": {
        "methodProperties": {
          "location": "json",
          "type": "object",
          "properties": {
            "city_id": {
              "type": "string",
              "required": true,
              "sentAs": "CityRef"
            },
            "page": {
              "type": "string",
              "sentAs": "Page",
              "description": "Response will return up to 500 items per request"
            }
          }
        },
        "calledMethod": {
          "location": "json",
          "default": "getWarehouses",
          "static": true
        }

      },
      "responseModel": "WarehousesListResponse",
      "summary": "Returns list of warehouses of the Nova Poshta."
    }
  },
  "models": {
    "AbstractResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type" : "boolean",
          "location": "json"
        },
        "errors": {
          "type": "array",
          "location": "json"
        },
        "warnings": {
          "type": "array",
          "location": "json"
        },
        "info": {
          "type": "array",
          "location": "json"
        }
      }
    },
    "CityListResponse": {
      "type": "object",
      "extends": "AbstractResponse",
      "properties" : {
        "data": {
          "type": "array",
          "location": "json",
          "items": {
            "type": "object",
            "properties": {
              "description": {
                "type": "string",
                "sentAs": "Description"
              },
              "description_ru": {
                "type": "string",
                "sentAs": "DescriptionRu"
              },
              "city_id": {
                "type": "string",
                "sentAs": "Ref"
              },
              "area_id": {
                "type": "string",
                "sentAs": "Area"
              }
            }
          }
        }
      }
    },
    "WarehousesListResponse": {
      "type": "object",
      "extends": "AbstractResponse",
      "properties" : {
        "data": {
          "type": "array",
          "location": "json",
          "items": {
            "type": "object",
            "properties": {
              "description": {
                "type": "string",
                "sentAs": "Description"
              },
              "description_ru": {
                "type": "string",
                "sentAs": "DescriptionRu"
              },
              "warehouse_id": {
                "type": "string",
                "sentAs": "Ref"
              },
              "city_id": {
                "type": "string",
                "sentAs": "CityRef"
              },
              "department_id": {
                "type": "numeric",
                "sentAs": "Number"
              },
              "lon": {
                "type": "string",
                "sentAs": "Longitude"
              },
              "lat": {
                "type": "string",
                "sentAs": "Latitude"
              },
              "department_type_id": {
                "type": "string",
                "sentAs": "TypeOfWarehouse"
              }
            }
          }
        }
      }
    }
  }
}
